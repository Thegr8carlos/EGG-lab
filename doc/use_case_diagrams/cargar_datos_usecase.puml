@startuml
title
  Casos de Uso (nivel intermedio)
  Página "Cargar Datos"
end title

actor "Usuario\nInvestigador" as User

rectangle "Sistema EGG-lab\n(Página Cargar Datos)" as Sistema {

  ' Casos de uso principales (vista de la página)
  usecase "Mostrar datasets\npendientes" as UC_MostrarPendientes
  usecase "Listar datasets\nprocesados" as UC_ListarProcesados
  usecase "Procesar dataset\npendiente" as UC_ProcesarPendiente
  usecase "Seleccionar dataset\nprocesado" as UC_SeleccionarProcesado
  usecase "Ir a vista\ndel dataset" as UC_IrVistaDataset
  usecase "Limpiar datos\nde procesamiento" as UC_LimpiarDatos

  ' Comportamientos internos de más alto nivel
  usecase "Consultar estado\nde los datasets" as UC_ConsultarEstado
  usecase "Actualizar catálogo\nde datasets" as UC_ActualizarCatalogo
  usecase "Registrar dataset\nseleccionado para análisis" as UC_RegistrarSeleccion
}

' Relación actor -> página
User --> UC_MostrarPendientes
User --> UC_ListarProcesados
User --> UC_ProcesarPendiente
User --> UC_SeleccionarProcesado
User --> UC_LimpiarDatos

' Relaciones entre casos de uso de la página y lógica interna (sin entrar a detalles técnicos)
UC_MostrarPendientes --> UC_ConsultarEstado : <<incluye>>
UC_ListarProcesados --> UC_ConsultarEstado : <<incluye>>

UC_ProcesarPendiente --> UC_ActualizarCatalogo : <<actualiza>>
UC_ProcesarPendiente --> UC_ConsultarEstado   : <<refresca>>

UC_SeleccionarProcesado --> UC_RegistrarSeleccion : <<incluye>>
UC_SeleccionarProcesado --> UC_IrVistaDataset     : <<invoca>>

UC_LimpiarDatos --> UC_ActualizarCatalogo : <<limpia registros>>

@enduml
